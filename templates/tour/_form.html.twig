{# templates/tour/_form.html.twig #}
{# Expects a `form` FormView in the template context. Accepts optional `button_label` (default: "Save") #}

{% set btn = button_label|default('Save') %}

{{ form_start(form, {'attr': {'class': 'space-y-6'}}) }}
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <div>
      {{ form_label(form.name, null, {label_attr: {'class':'text-sm font-medium text-white'}}) }}
      {{ form_widget(form.name, {'attr': {'class': 'mt-1 block w-full rounded-md bg-neutral-800 text-neutral-100 px-3 py-2 placeholder:text-neutral-400 focus:ring-2 focus:ring-indigo-500 border border-neutral-700'}}) }}
      <div class="text-red-400 text-xs mt-1">{{ form_errors(form.name) }}</div>
    </div>

    <div>
      {{ form_label(form.email, null, {label_attr: {'class':'text-sm font-medium text-white'}}) }}
      {{ form_widget(form.email, {'attr': {'class': 'mt-1 block w-full rounded-md bg-neutral-800 text-neutral-100 px-3 py-2 placeholder:text-neutral-400 focus:ring-2 focus:ring-indigo-500 border border-neutral-700'}}) }}
      <div class="text-red-400 text-xs mt-1">{{ form_errors(form.email) }}</div>
    </div>
  </div>

  {# Exhibition select (only shown if the form contains this field) #}
  {% if form.exhibition is defined %}
    <div>
      {{ form_label(form.exhibition, null, {label_attr: {'class':'text-sm font-medium text-white'}}) }}
      {{ form_widget(form.exhibition, {'attr': {'class': 'mt-1 block w-full rounded-md bg-neutral-800 text-neutral-100 px-3 py-2 border border-neutral-700 focus:ring-2 focus:ring-indigo-500'}}) }}
      <div class="text-xs text-neutral-400 mt-2">Select the exhibition the visitor requested (optional).</div>
      <div class="text-red-400 text-xs mt-1">{{ form_errors(form.exhibition) }}</div>
    </div>
  {% endif %}

  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <div>
      {{ form_label(form.phoneNumber, null, {label_attr: {'class':'text-sm font-medium text-white'}}) }}
      {{ form_widget(form.phoneNumber, {'attr': {'class': 'mt-1 block w-full rounded-md bg-neutral-800 text-neutral-100 px-3 py-2 placeholder:text-neutral-400 focus:ring-2 focus:ring-indigo-500 border border-neutral-700'}}) }}
      <div class="text-red-400 text-xs mt-1">{{ form_errors(form.phoneNumber) }}</div>
    </div>

    <div>
      {{ form_label(form.numberOfGuests, null, {label_attr: {'class':'text-sm font-medium text-white'}}) }}
      {{ form_widget(form.numberOfGuests, {'attr': {'class': 'mt-1 block w-full rounded-md bg-neutral-800 text-neutral-100 px-3 py-2 placeholder:text-neutral-400 focus:ring-2 focus:ring-indigo-500 border border-neutral-700', 'min': 1}}) }}
      <div class="text-red-400 text-xs mt-1">{{ form_errors(form.numberOfGuests) }}</div>
    </div>
  </div>

  <div>
    {{ form_label(form.date, null, {label_attr: {'class':'text-sm font-medium text-white'}}) }}
    {{ form_widget(form.date, {'attr': {'class': 'mt-1 block w-full rounded-md bg-neutral-800 text-neutral-100 px-3 py-2 placeholder:text-neutral-400 focus:ring-2 focus:ring-indigo-500 border border-neutral-700'}}) }}
    <div class="text-red-400 text-xs mt-1">{{ form_errors(form.date) }}</div>
  </div>

  {# Status dropdown styled for dark theme (renders only if present) #}
  {% if form.status is defined %}
    <div>
      {{ form_label(form.status, null, {label_attr: {'class':'text-sm font-medium text-white'}}) }}

      {# wrapper so we can keep padding for native select arrow #}
      <div class="relative mt-1">
        {{ form_widget(form.status, {
            'attr': {
              'class': 'appearance-none w-full rounded-md bg-neutral-800 text-neutral-100 px-3 py-2 pr-10 border border-neutral-700 focus:ring-2 focus:ring-indigo-500'
            }
        }) }}

        {# optional down-arrow icon (pure CSS-safe) #}
        <svg class="pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-neutral-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
        </svg>
      </div>

      <div class="text-xs text-neutral-400 mt-2">Change the request status (pending, confirmed, cancelled).</div>
      <div class="text-red-400 text-xs mt-1">{{ form_errors(form.status) }}</div>
    </div>
  {% endif %}

  <div>
    {{ form_label(form.notes, null, {label_attr: {'class':'text-sm font-medium text-white'}}) }}
    {{ form_widget(form.notes, {'attr': {'class': 'mt-1 block w-full rounded-md bg-neutral-800 text-neutral-100 px-3 py-2 placeholder:text-neutral-400 focus:ring-2 focus:ring-indigo-500 border border-neutral-700', 'rows': 4}}) }}
    <div class="text-red-400 text-xs mt-1">{{ form_errors(form.notes) }}</div>
  </div>

  <div class="pt-2">
    <button type="submit"
            class="w-full inline-flex items-center justify-center gap-2 bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-500 hover:to-violet-500 text-white font-semibold py-3 px-4 rounded-lg shadow-lg">
      {{ btn }}
    </button>
  </div>

{{ form_end(form) }}
